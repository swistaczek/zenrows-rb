class Zenrows::Configuration
  include MonitorMixin

  DEFAULTS: Hash[Symbol, untyped]

  attr_accessor api_key: String?
  attr_accessor host: String
  attr_accessor port: Integer
  attr_accessor api_endpoint: String
  attr_accessor connect_timeout: Integer
  attr_accessor read_timeout: Integer
  attr_accessor backend: Symbol
  attr_accessor logger: Logger?
  attr_reader hooks: Zenrows::Hooks

  def initialize: () -> void
  def reset!: () -> void
  def validate!: () -> true
  def valid?: () -> bool
  def to_h: () -> Hash[Symbol, untyped]

  # Hook registration methods
  def before_request: (?untyped? callable) ?{ (*untyped) -> untyped } -> self
  def after_request: (?untyped? callable) ?{ (*untyped) -> untyped } -> self
  def on_response: (?untyped? callable) ?{ (*untyped) -> untyped } -> self
  def on_error: (?untyped? callable) ?{ (*untyped) -> untyped } -> self
  def around_request: (?untyped? callable) ?{ (*untyped) -> untyped } -> self
  def add_subscriber: (untyped subscriber) -> self
end
